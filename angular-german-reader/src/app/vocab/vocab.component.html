
<div class="vocab-actions">
  <button class="dropdown-button">Actions &#9660;</button>
  <div class="dropdown-content">
    <button (click)="deleteSelected()">Delete Selected</button>
    <button (click)="deduplicate()">Deduplicate</button>
    <button (click)="exportToCSV()">Export to CSV</button>
    <button (click)="saveAllChanges()">Save Changes</button>
  </div>
</div>

<table class="vocab-list">
  <thead>
    <tr>
      <th>
        <input type="checkbox" [(ngModel)]="selectAllToggle" (change)="toggleAllSelections()" />
      </th>
      <th>Word</th>
      <th>Meaning</th>
      <th>Context</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let vocab of pagedVocabList; let i = index">
      <td><input type="checkbox" [(ngModel)]="vocab.selected" /></td>
      <td (click)="enableEdit(vocab, 'word')">
        <span *ngIf="!vocab.isEditingWord">{{ vocab.word }}</span>
        <textarea
          *ngIf="vocab.isEditingWord"
          [(ngModel)]="vocab.word"
          (ngModelChange)="onChange()"
          (blur)="saveVocab(vocab, 'word')"
          rows="1"></textarea>
      </td>
      <td (click)="enableEdit(vocab, 'definition')">
        <span *ngIf="!vocab.isEditingDefinition">{{ vocab.definition }}</span>
        <textarea
          *ngIf="vocab.isEditingDefinition"
          [(ngModel)]="vocab.definition"
          (ngModelChange)="onChange()"
          (blur)="saveVocab(vocab, 'definition')"
          rows="1"></textarea>
      </td>
  
      <td (click)="enableEdit(vocab, 'sentence')">
        <span *ngIf="!vocab.isEditingSentence">{{ vocab.sentence }}</span>
        <textarea *ngIf="vocab.isEditingSentence" 
        [(ngModel)]="vocab.sentence" 
        (ngModelChange)="onChange()"
        (blur)="saveVocab(vocab, 'sentence')"
        rows="2"></textarea>
      </td>      
    </tr>
  </tbody>
</table>

<div class="pagination">
  <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage == 1">&laquo; Previous</button>
  <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage * itemsPerPage >= vocabList.length">Next &raquo;</button>
</div>